
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MySQL学习记录 - Chaoer&#39;blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate" />
    <meta name="keywords" content="Fechin,"> 
    <meta name="description" content="个人博客，主要记录学习笔记,MySQL一、SQL 简述1.SQL 的概述Structure Query Language(结构化查询语言)简称 SQL，它被美国国家标准局(ANSI)确定为关系型数据库语言的美国标准，后被国际化,"> 
    <meta name="author" content="Chaoer"> 
    <link rel="alternative" href="atom.xml" title="Chaoer&#39;blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.png"> 
    
    
<link rel="stylesheet" href="/css/diaspora.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="loading">
    <span id="config-title" style="display:none">Chaoer&#39;blog</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="iconfont icon-home image-icon" href="javascript:;" data-url="https://blackchao-script.github.io"></a>
    <div title="播放/暂停" class="iconfont icon-play"></div>
    <h3 class="subtitle">MySQL学习记录</h3>
    <div class="social">
        <div>
            <div class="share">
                <a title="获取二维码" class="iconfont icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class='main'>
        <h1 class="title">MySQL学习记录</h1>
        <div class="stuff">
            <span>九月 09, 2021</span>
            
  <ul class="post-tags-list" itemprop="keywords"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul>


        </div>
        <div class="content markdown">
            <h1 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h1><h2 id="一、SQL-简述"><a href="#一、SQL-简述" class="headerlink" title="一、SQL 简述"></a>一、SQL 简述</h2><h3 id="1-SQL-的概述"><a href="#1-SQL-的概述" class="headerlink" title="1.SQL 的概述"></a>1.SQL 的概述</h3><p>Structure Query Language(结构化查询语言)简称 SQL，它被美国国家标准局(ANSI)确定为关系型数据库语言的美国标准，后被国际化标准组织(ISO)采纳为关系数据库语言的国际标准。数据库管理系统可以通过 SQL 管理数据库；定义和操作数据，维护数据的完整性和安全性。</p>
<h3 id="2-SQL-的优点"><a href="#2-SQL-的优点" class="headerlink" title="2.SQL 的优点"></a>2.SQL 的优点</h3><p>1、简单易学，具有很强的操作性<br>2、绝大多数重要的数据库管理系统均支持 SQL<br>3、高度非过程化；用 SQL 操作数据库时大部分的工作由 DBMS 自动完成</p>
<h3 id="3-SQL-的分类"><a href="#3-SQL-的分类" class="headerlink" title="3.SQL 的分类"></a>3.SQL 的分类</h3><p>1、<strong>DDL(Data Definition Language) 数据定义语言</strong>，用来操作数据库、表、列等； 常用语句：CREATE、 ALTER、DROPreeerer<br>2、<strong>DML(Data Manipulation Language) 数据操作语言</strong>，用来操作数据库中表里的数据；常用语句：INSERT、 UPDATE、 DELETE<br>3、<strong>DCL(Data Control Language) 数据控制语言</strong>，用来操作访问权限和安全级别； 常用语句：GRANT、DENY<br>4、<strong>DQL(Data Query Language) 数据查询语言</strong>，用来查询数据 常用语句：SELECT</p>
<h2 id="二、数据库的数据类型"><a href="#二、数据库的数据类型" class="headerlink" title="二、数据库的数据类型"></a>二、数据库的数据类型</h2><p>使用 MySQL 数据库存储数据时，不同的数据类型决定了 MySQL 存储数据方式的不同。为此，MySQL 数据库提供了多种数据类型，其中包括整数类型、浮点数类型、定点 数类型、日期和时间类型、字符串类型、二进制…等等数据类型。</p>
<h3 id="1-整数类型"><a href="#1-整数类型" class="headerlink" title="1.整数类型"></a>1.整数类型</h3><p>根据数值取值范围的不同 MySQL 中的整数类型可分为 5 种，分别是 TINYINT、SMALUNT、MEDIUMINT、INT 和 BIGINT。下图列举了 MySQL 不同整数类型所对应的字节大小和取值范围而最常用的为 INT 类型的，</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
<th>字节数</th>
</tr>
</thead>
<tbody><tr>
<td>tinyint</td>
<td>十分小的数据</td>
<td>1</td>
</tr>
<tr>
<td>smallint</td>
<td>较小的数据</td>
<td>2</td>
</tr>
<tr>
<td>mediumint</td>
<td>中等大小的数据</td>
<td>3</td>
</tr>
<tr>
<td><strong>int</strong></td>
<td><strong>标准的整数</strong></td>
<td><strong>4</strong></td>
</tr>
<tr>
<td>bigint</td>
<td>较大的数据</td>
<td>8</td>
</tr>
</tbody></table>
<h3 id="2-浮点数类型"><a href="#2-浮点数类型" class="headerlink" title="2.浮点数类型"></a>2.浮点数类型</h3><p>在 MySQL 数据库中使用浮点数和定点数来存储小数。浮点数的类型有两种：单精度浮点数类型（FLOAT)和双精度浮点数类型（DOUBLE)。而定点数类型只有一种即 DECIMAL 类型。下图列举了 MySQL 中浮点数和定点数类型所对应的字节大小及其取值范围：</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>字节数</th>
</tr>
</thead>
<tbody><tr>
<td>float</td>
<td>4</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
</tr>
<tr>
<td>decimal</td>
<td>字符串形式的浮点数 金融计算的时候，一般使用</td>
</tr>
</tbody></table>
<h3 id="3-字符串类型"><a href="#3-字符串类型" class="headerlink" title="3.字符串类型"></a>3.字符串类型</h3><table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
<th>储存范围</th>
<th>用处</th>
</tr>
</thead>
<tbody><tr>
<td>char</td>
<td>字符串固定大小</td>
<td>0-255</td>
<td>…</td>
</tr>
<tr>
<td><strong>varchar</strong></td>
<td><strong>可变字符串</strong></td>
<td><strong>0-65535</strong></td>
<td>常用的变量</td>
</tr>
<tr>
<td>tinytext</td>
<td>微型文本</td>
<td>2^8-1</td>
<td>…</td>
</tr>
<tr>
<td><strong>text</strong></td>
<td><strong>文本串</strong></td>
<td><strong>2^16-1</strong></td>
<td>保存大文本</td>
</tr>
</tbody></table>
<h3 id="4-日期与时间类型"><a href="#4-日期与时间类型" class="headerlink" title="4.日期与时间类型"></a>4.日期与时间类型</h3><table>
<thead>
<tr>
<th>数据类型</th>
<th>日期格式</th>
</tr>
</thead>
<tbody><tr>
<td>year</td>
<td>YYYY</td>
</tr>
<tr>
<td>date</td>
<td>YYY-MM-DD</td>
</tr>
<tr>
<td>time</td>
<td>HH:mm:ss</td>
</tr>
<tr>
<td><strong>datetime</strong></td>
<td><strong>YYYY-MM-DD HH:mm:ss</strong></td>
</tr>
<tr>
<td><strong>timestamp</strong></td>
<td><strong>时间戳</strong></td>
</tr>
</tbody></table>
<h2 id="三、数据库登录指令"><a href="#三、数据库登录指令" class="headerlink" title="三、数据库登录指令"></a>三、数据库登录指令</h2><h3 id="1-连接-Mysql"><a href="#1-连接-Mysql" class="headerlink" title="1.连接 Mysql"></a>1.连接 Mysql</h3><p>格式： <strong>mysql -h 主机地址 -u 用户名 －p 用户密码</strong></p>
<h4 id="1-连接到本机上的-MYSQL。"><a href="#1-连接到本机上的-MYSQL。" class="headerlink" title="1.连接到本机上的 MYSQL。"></a>1.连接到本机上的 MYSQL。</h4><p>首先打开 DOS 窗口，然后进入目录 mysql\bin，再键入命令 mysql -u root -p，回车后提示你输密码.注意用户名前可以有空格也可以没有空格，但是密码前必须没有空格，否则让你重新输入密码。</p>
<p>如果刚安装好 MYSQL，超级用户 root 是没有密码的，故直接回车即可进入到 MYSQL 中了，MYSQL 的提示符是： mysql&gt;</p>
<h4 id="2-连接到远程主机上的-MYSQL。"><a href="#2-连接到远程主机上的-MYSQL。" class="headerlink" title="2.连接到远程主机上的 MYSQL。"></a>2.连接到远程主机上的 MYSQL。</h4><p>假设远程主机的 IP 为：110.110.110.110，用户名为 root,密码为 abcd123。则键入以下命令：<br>mysql -h110.110.110.110 -u root -p 123;（注:u 与 root 之间可以不用加空格，其它也一样）</p>
<h4 id="3-退出-MYSQL-命令：-exit-（回车）"><a href="#3-退出-MYSQL-命令：-exit-（回车）" class="headerlink" title="3.退出 MYSQL 命令： exit （回车）"></a>3.退出 MYSQL 命令： exit （回车）</h4><h3 id="2-修改密码和删除用户"><a href="#2-修改密码和删除用户" class="headerlink" title="2.修改密码和删除用户"></a>2.修改密码和删除用户</h3><p>格式：<strong>mysqladmin -u 用户名 -p 旧密码 password 新密码</strong></p>
<h4 id="1-给-root-加个密码-ab12。"><a href="#1-给-root-加个密码-ab12。" class="headerlink" title="1.给 root 加个密码 ab12。"></a>1.给 root 加个密码 ab12。</h4><p>首先在 DOS 下进入目录 mysql\bin，然后键入以下命令<br>mysqladmin -u root -password ab12<br>注：因为开始时 root 没有密码，所以-p 旧密码一项就可以省略了。</p>
<h4 id="2-再将-root-的密码改为-djg345"><a href="#2-再将-root-的密码改为-djg345" class="headerlink" title="2.再将 root 的密码改为 djg345"></a>2.再将 root 的密码改为 djg345</h4><p><strong>mysqladmin -u root -p ab12 password djg345</strong></p>
<h4 id="3-删除用户"><a href="#3-删除用户" class="headerlink" title="3. 删除用户"></a>3. 删除用户</h4><p>@&gt;mysql -u root -p</p>
<p>@&gt;密码</p>
<p>mysql&gt;Delete FROM user Where User=’test’ and Host=’localhost’;</p>
<p>mysql&gt;flush privileges;</p>
<p>mysql&gt;drop database testDB; //删除用户的数据库</p>
<p>删除账户及权限：&gt;drop user 用户名@’%’;</p>
<blockquote>
<p>drop user 用户名@ localhost;</p>
</blockquote>
<h4 id="4-修改指定用户密码"><a href="#4-修改指定用户密码" class="headerlink" title="4. 修改指定用户密码"></a>4. 修改指定用户密码</h4><p>@&gt;mysql -u root -p</p>
<p>@&gt;密码</p>
<p>mysql&gt;update mysql.user set password=password(‘新密码’) where User=”test” and Host=”localhost”;</p>
<p>mysql&gt;flush privileges;</p>
<h2 id="四、数据库操作指令"><a href="#四、数据库操作指令" class="headerlink" title="四、数据库操作指令"></a>四、数据库操作指令</h2><h3 id="1-数据库的基本操作"><a href="#1-数据库的基本操作" class="headerlink" title="1.数据库的基本操作"></a>1.数据库的基本操作</h3><h4 id="1-创建数据库"><a href="#1-创建数据库" class="headerlink" title="1.创建数据库"></a>1.创建数据库</h4><p>注意：创建数据库之前要先连接 Mysql 服务器</p>
<p>命令: <strong>create database &lt;数据库名&gt;</strong></p>
<h4 id="2-显示数据库"><a href="#2-显示数据库" class="headerlink" title="2. 显示数据库"></a>2. 显示数据库</h4><p>命令：<strong>show databases</strong></p>
<h4 id="3-删除数据库"><a href="#3-删除数据库" class="headerlink" title="3. 删除数据库"></a>3. 删除数据库</h4><p>命令: <strong>drop databases &lt;数据库名&gt;</strong></p>
<h4 id="4-使用-切换-数据库"><a href="#4-使用-切换-数据库" class="headerlink" title="4.使用(切换)数据库"></a>4.使用(切换)数据库</h4><p>命令：<strong>use &lt;数据库名&gt;</strong></p>
<p><strong>use test</strong> 表示正在使用一个名叫 test 的数据库</p>
<h3 id="2-数据表的基本操作"><a href="#2-数据表的基本操作" class="headerlink" title="2.数据表的基本操作"></a>2.数据表的基本操作</h3><p>数据库创建成功后可在该数据库中创建数据表(简称为表)存储数据。请注意：在操作数据表之前应使用“USE 数据库名;”指定操作是在哪个数据库中进行先关操作，否则会抛出“No database selected”错误。<br>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">         字段<span class="number">1</span> 字段类型,</span><br><span class="line">         字段<span class="number">2</span> 字段类型,</span><br><span class="line">         …</span><br><span class="line">         字段n 字段类型</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="1-创建数据表"><a href="#1-创建数据表" class="headerlink" title="1.创建数据表"></a>1.创建数据表</h4><p>示例：创建学生表 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line"> id <span class="type">int</span>,</span><br><span class="line"> name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line"> gender <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line"> birthday <span class="type">date</span></span><br><span class="line"> );</span><br></pre></td></tr></table></figure>

<h4 id="2-查看数据表"><a href="#2-查看数据表" class="headerlink" title="2.查看数据表"></a>2.查看数据表</h4><p>查看当前数据库中所有表 MySQL 命令：<strong>show tables</strong></p>
<p>查看表的基本信息 MySQL 命令: <strong>show create table student</strong></p>
<p>查看表的字段信息 MySQL 命令:<strong>desc student</strong></p>
<h4 id="3-删除数据表"><a href="#3-删除数据表" class="headerlink" title="3.删除数据表"></a>3.删除数据表</h4><p>语法：<strong>drop table 表名</strong></p>
<p>删除数据表 MySQL 命令：<strong>drop table student</strong></p>
<h4 id="3-格式"><a href="#3-格式" class="headerlink" title="3.格式"></a>3.格式</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名(</span><br><span class="line">	字段名 列类型 [属性][索引][注释],</span><br><span class="line">	字段名 列类型 [属性][索引][注释],</span><br><span class="line">    .....</span><br><span class="line">	字段名 列类型 [属性][索引][注释],</span><br><span class="line"></span><br><span class="line">)[表类型][字符集设置][注释]</span><br></pre></td></tr></table></figure>

<h3 id="3-常用的几个指令"><a href="#3-常用的几个指令" class="headerlink" title="3.常用的几个指令"></a>3.常用的几个指令</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查看常见数据库的语句</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database 数据库名</span><br><span class="line"><span class="comment">--查看数据表的定义语句</span></span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> 数据表名</span><br><span class="line"><span class="comment">--查看表的结构</span></span><br><span class="line"><span class="keyword">desc</span> 数据表名</span><br></pre></td></tr></table></figure>

<h2 id="五、数据表的约束"><a href="#五、数据表的约束" class="headerlink" title="五、数据表的约束"></a>五、数据表的约束</h2><p>为防止错误的数据被插入到数据表，MySQL 中定义了一些维护数据库完整性的规则；这些规则常称为表的约束。常见约束如下：</p>
<table>
<thead>
<tr>
<th>约束条件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PRIMARY KEY</td>
<td>主键约束唯一标识对应的纪律</td>
</tr>
<tr>
<td>FOREIGN KEY</td>
<td>外键约束</td>
</tr>
<tr>
<td>NOT NULL</td>
<td>非空约束</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>唯一性约束</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>默认值约束,用于设置字段的默认值</td>
</tr>
</tbody></table>
<h3 id="1-主键约束"><a href="#1-主键约束" class="headerlink" title="1.主键约束"></a>1.主键约束</h3><p>主键约束即 primary key 用于唯一的标识表中的每一行。被标识为主键的数据在表中是唯一的且其值不能为空。这点类似于我们每个人都有一个身份证号，并且这个身份证号是唯一的。<br>主键约束基本语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">primary</span> key;</span><br></pre></td></tr></table></figure>

<p><strong>设置主键约束(primary key)方式</strong></p>
<p>示例:MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="2-非空约束"><a href="#2-非空约束" class="headerlink" title="2.非空约束"></a>2.非空约束</h3><p>非空约束即 NOT NULL 指的是字段的值不能为空,基本的语法如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<p>示例：MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student02(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> mull</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="3-默认值约束"><a href="#3-默认值约束" class="headerlink" title="3.默认值约束"></a>3.默认值约束</h3><p>默认值约束即 DEFAULT 用于给数据表中的字段指定默认值，即当在表中插入一条新记录时若未给该字段赋值，那么，数据库系统会自动为这个字段插人默认值；其基本的语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">DEFAULT</span> 默认值；</span><br></pre></td></tr></table></figure>

<p>示例：MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student03(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    gender <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">default</span> <span class="string">&#x27;male&#x27;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="4-唯一约束"><a href="#4-唯一约束" class="headerlink" title="4.唯一约束"></a>4.唯一约束</h3><p>唯一性约束即 UNIQUE 用于保证数据表中字段的唯一性，即表中字段的值不能重复出现，其基本的语法格式如下所示：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字段名 数据类型 <span class="keyword">UNIQUE</span>;</span><br></pre></td></tr></table></figure>

<p>示例：MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student04(</span><br><span class="line">	id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">unique</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="5-外键约束"><a href="#5-外键约束" class="headerlink" title="5.外键约束"></a>5.外键约束</h3><p>外键约束即 FOREIGN KEY 常用与多张表之间的约束.基本语法如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--在创建数据表是语法如下:</span></span><br><span class="line">constratnt 外键名 <span class="keyword">foreign</span> key (从表外键字段) <span class="keyword">references</span> 主表 (主键字段)</span><br><span class="line"><span class="comment">--将创建数据表创好后的语法如下:</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 从表名 <span class="keyword">add</span> <span class="keyword">constraint</span> 外键名 <span class="keyword">foreign</span> key (从表外键字段) refernces 主表 (主键字段)</span><br></pre></td></tr></table></figure>

<p>示例:创建一个学生表 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student05(</span><br><span class="line">	id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>示例:创建一个班级表 MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> class(</span><br><span class="line">	classid <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">    studentid <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>示例:学生表作为主表,班级表作为副表设置外键,MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> class <span class="keyword">add</span> <span class="keyword">constraint</span> fk_class_studentid <span class="keyword">foreign</span> key (studentid) <span class="keyword">references</span> student05(id);</span><br></pre></td></tr></table></figure>

<p>删除外键 语法如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 从表名 <span class="keyword">drop</span> <span class="keyword">foreign</span> key 外键名；</span><br></pre></td></tr></table></figure>

<p>示例:删除外键 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> class <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_class_studentid;</span><br></pre></td></tr></table></figure>

<h2 id="六、DML-语言"><a href="#六、DML-语言" class="headerlink" title="六、DML 语言"></a>六、DML 语言</h2><p><strong>数据库意义</strong>: 数据库存储, 数据管理</p>
<p><strong>DML 语言</strong> ：数据操作语言</p>
<ul>
<li>insert</li>
<li>update</li>
<li>delete</li>
</ul>
<h3 id="1-添加-insert"><a href="#1-添加-insert" class="headerlink" title="1.添加(insert)"></a>1.添加(insert)</h3><h4 id="1-为表中添加数据"><a href="#1-为表中添加数据" class="headerlink" title="1.为表中添加数据"></a>1.为表中添加数据</h4><p>每个字段与其值是严格一一对应的。也就是说：每个值、值的顺序、值的类型必须与对应的字段相匹配。但是，各字段也无须与其在表中定义的顺序一致，它们只要与 VALUES 中值的顺序一致即可。<br>语法如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 (字段名<span class="number">1</span>,字段名<span class="number">2</span>，...) <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>,....)</span><br></pre></td></tr></table></figure>

<h4 id="2-同时添加多条数据"><a href="#2-同时添加多条数据" class="headerlink" title="2.同时添加多条数据"></a>2.同时添加多条数据</h4><p>语法如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名 (字段名<span class="number">1</span>,字段名<span class="number">2</span>，...) <span class="keyword">values</span>(值<span class="number">1</span>,值<span class="number">2</span>,....),(值<span class="number">1</span>,值<span class="number">2</span>,....)</span><br></pre></td></tr></table></figure>

<h3 id="2-修改-update"><a href="#2-修改-update" class="headerlink" title="2.修改(update)"></a>2.修改(update)</h3><h4 id="1-update-基本语法"><a href="#1-update-基本语法" class="headerlink" title="1.update 基本语法"></a>1.update 基本语法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 <span class="keyword">set</span> 字段名<span class="number">1</span><span class="operator">=</span>值<span class="number">1</span>,[字段名<span class="number">2</span> <span class="operator">=</span> 值<span class="number">2</span>,...] [<span class="keyword">where</span> 条件表达式];</span><br></pre></td></tr></table></figure>

<p>在该语法中：字段名 1、字段名 2…用于指定要更新的字段名称；值 1、值 2…用于表示字段的新数据；WHERE 条件表达式 是可选的，它用于指定更新数据需要满足的条件</p>
<h4 id="2-update-更新部分数据"><a href="#2-update-更新部分数据" class="headerlink" title="2.update 更新部分数据"></a>2.update 更新部分数据</h4><p>示例:将 name 为 tom 的纪律的 age 设置为 20 并将其 gender 设置为 female MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">20</span>,gender<span class="operator">=</span><span class="string">&#x27;female&#x27;</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;tom&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3-update-更新全部数据"><a href="#3-update-更新全部数据" class="headerlink" title="3.update 更新全部数据"></a>3.update 更新全部数据</h4><p>示例:将所有纪律的 age 设置为 18MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">18</span>;</span><br></pre></td></tr></table></figure>

<h3 id="3-删除-delete"><a href="#3-删除-delete" class="headerlink" title="3.删除(delete)"></a>3.删除(delete)</h3><h4 id="1-delete-基本语法"><a href="#1-delete-基本语法" class="headerlink" title="1.delete 基本语法"></a>1.delete 基本语法</h4><p>在该语法中：表名用于指定要执行删除操作的表；[WHERE 条件表达式]为可选参数用于指定删除的条件。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 条件表达式];</span><br></pre></td></tr></table></figure>

<h4 id="2-delete-删除部分数据"><a href="#2-delete-删除部分数据" class="headerlink" title="2.delete 删除部分数据"></a>2.delete 删除部分数据</h4><p>示例:删除 age 等于 14 的所有纪律 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">=</span><span class="number">14</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3-delete-删除全部数据"><a href="#3-delete-删除全部数据" class="headerlink" title="3.delete 删除全部数据"></a>3.delete 删除全部数据</h4><p>示例:删除 student 表中的所有记录 MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h2 id="七、DQL-查询数据"><a href="#七、DQL-查询数据" class="headerlink" title="七、DQL 查询数据"></a>七、DQL 查询数据</h2><p><strong>DQL 语言</strong>: 数据查询语言</p>
<ul>
<li>所有的查询操作都用它 <strong>Select</strong></li>
<li>简单的查询,复杂的查询它毒能做</li>
<li><strong>数据库最核心的语言</strong></li>
<li>使用频率最高的语句</li>
</ul>
<h3 id="1-查询所有字段-方法不唯一只是列举"><a href="#1-查询所有字段-方法不唯一只是列举" class="headerlink" title="1.查询所有字段(方法不唯一只是列举)"></a>1.查询所有字段(方法不唯一只是列举)</h3><p>查询所有字段 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 数据表名;</span><br></pre></td></tr></table></figure>

<h3 id="2-查询指定字段"><a href="#2-查询指定字段" class="headerlink" title="2.查询指定字段"></a>2.查询指定字段</h3><p>查询指定字段(sid、sname) MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sid,sname <span class="keyword">from</span> 数据表名;</span><br></pre></td></tr></table></figure>

<h3 id="3-常数的查询"><a href="#3-常数的查询" class="headerlink" title="3.常数的查询"></a>3.常数的查询</h3><p>在 SELECT 中除了书写列名，还可以书写常数。可以用于标记</p>
<p>常数的查询日期标记 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sid,sname,<span class="string">&#x27;2021-01-01&#x27;</span> <span class="keyword">from</span> 数据表名;</span><br></pre></td></tr></table></figure>

<h3 id="4-别名"><a href="#4-别名" class="headerlink" title="4.别名"></a>4.别名</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sid <span class="keyword">as</span> <span class="string">&#x27;学号&#x27;</span>,sname <span class="keyword">as</span> ’姓名‘ <span class="keyword">from</span> student <span class="keyword">as</span> s</span><br></pre></td></tr></table></figure>

<h3 id="5-函数-concat-a-b"><a href="#5-函数-concat-a-b" class="headerlink" title="5.函数 concat(a,b)"></a>5.函数 concat(a,b)</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;姓名:&#x27;</span> sname) <span class="keyword">as</span> 新名字 <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h3 id="6-从查询结果中过滤重复数据"><a href="#6-从查询结果中过滤重复数据" class="headerlink" title="6.从查询结果中过滤重复数据"></a>6.从查询结果中过滤重复数据</h3><p>在使用 DISTINCT 时需要注意：<br><strong>在 SELECT 查询语句中 DISTINCT 关键字只能用在第一个所查列名之前。</strong></p>
<p>MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> 字段名 <span class="keyword">from</span> 数据表名</span><br></pre></td></tr></table></figure>

<h3 id="7-算数运算符-举例加运算"><a href="#7-算数运算符-举例加运算" class="headerlink" title="7.算数运算符(举例加运算)"></a>7.算数运算符(举例加运算)</h3><p><strong>在 SELECT 查询语句中还可以使用加减乘除运算符</strong>。<br>查询学生 10 年后的年龄 MySQL 命令：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> sname, age<span class="operator">+</span><span class="number">10</span> <span class="keyword">from</span> student;</span><br></pre></td></tr></table></figure>

<h2 id="八、函数"><a href="#八、函数" class="headerlink" title="八、函数"></a>八、函数</h2><h3 id="1-聚合函数"><a href="#1-聚合函数" class="headerlink" title="1.聚合函数"></a>1.聚合函数</h3><p>在开发中,我们常常有类似的需求:统计某个字段的最大值、最小值、平均值等,为此，MySQL 中提供了聚合函数来实现这些功能。所谓聚合，就是将多行汇总成一行；其实，所有的聚合函数均如此——输入多行，输出一行。聚合函数具有自动滤空的功能，若某一个值为 NULL，那么会自动将其过滤使其不参与运算。</p>
<p><strong>聚合函数使用规则：</strong><br>只有 SELECT 子句和 HAVING 子句、ORDER BY 子句中能够使用聚合函数。例如，在 WHERE 子句中使用聚合函数是错误的。</p>
<h4 id="1-count"><a href="#1-count" class="headerlink" title="1.count()"></a>1.count()</h4><p>统计表中数据的行数或者统计指定列其值不为 NULL 的数据个数</p>
<p>查询该表中有多少人</p>
<p>MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> 数据表名</span><br></pre></td></tr></table></figure>

<h4 id="2-max"><a href="#2-max" class="headerlink" title="2.max()"></a>2.max()</h4><p>计算定列的最大值，如果指定列是字符串类型则使用字符串排列运算</p>
<p>MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selsct <span class="built_in">max</span>(字段名) <span class="keyword">from</span> 数据表名</span><br></pre></td></tr></table></figure>

<h4 id="3-min"><a href="#3-min" class="headerlink" title="3.min()"></a>3.min()</h4><p>计算指定列的最小值，如果指定列是字符串类型则使用字符串排序运算</p>
<p>MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段<span class="number">1</span>，<span class="built_in">min</span>(字段<span class="number">2</span>) <span class="keyword">from</span> 数据表名</span><br></pre></td></tr></table></figure>

<h4 id="4-sum"><a href="#4-sum" class="headerlink" title="4.sum()"></a>4.sum()</h4><p>计算指定列的数值和，如果指定列的类型不是数值类型则计算结果为 0</p>
<p>MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(字段名) <span class="keyword">from</span> 数据表名;</span><br></pre></td></tr></table></figure>

<h4 id="5-avg"><a href="#5-avg" class="headerlink" title="5.avg()"></a>5.avg()</h4><p>计算指定列的平均值，如果指定列类型不是数值类型则计算结果为 0</p>
<p>MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(字段名) <span class="keyword">from</span> 数据表名</span><br></pre></td></tr></table></figure>

<h3 id="2-其他类型函数"><a href="#2-其他类型函数" class="headerlink" title="2.其他类型函数"></a>2.其他类型函数</h3><h4 id="1-字符串函数"><a href="#1-字符串函数" class="headerlink" title="1.字符串函数"></a>1.字符串函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--链接函数</span></span><br><span class="line"><span class="keyword">select</span> concat();</span><br><span class="line"><span class="comment">--</span></span><br><span class="line"><span class="keyword">select</span> instr();</span><br><span class="line"><span class="comment">--统计长度</span></span><br><span class="line"><span class="keyword">select</span> length();</span><br></pre></td></tr></table></figure>

<h4 id="2-数学函数"><a href="#2-数学函数" class="headerlink" title="2.数学函数"></a>2.数学函数</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--绝对值</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">abs</span>(<span class="number">-120</span>);</span><br><span class="line"><span class="comment">--向下取整</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">floor</span>(<span class="number">3.14</span>);</span><br><span class="line"><span class="comment">--向上取整</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">ceiling</span>(<span class="number">3.14</span>);</span><br></pre></td></tr></table></figure>

<h2 id="九、条件查询"><a href="#九、条件查询" class="headerlink" title="九、条件查询"></a>九、条件查询</h2><p>数据库中存有大量数据，我们可根据需求获取指定的数据。此时，我们可在查询语句中通过 WHERE 子句指定查询条件对查询结果进行过滤。</p>
<h3 id="1-使用关系运算符查询"><a href="#1-使用关系运算符查询" class="headerlink" title="1.使用关系运算符查询"></a>1.使用关系运算符查询</h3><p>在 where 中可以使用关系运算符进行查询</p>
<p><strong>示例</strong> 查询年龄等于或大于 17 的学生信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span>  age<span class="operator">&gt;=</span><span class="number">17</span>;</span><br></pre></td></tr></table></figure>

<h3 id="2-使用-in-关键字查询"><a href="#2-使用-in-关键字查询" class="headerlink" title="2.使用 in 关键字查询"></a>2.使用 in 关键字查询</h3><p>in 关键字用于判断某个字段的值是否在指定集合中。如果字段的值恰好在指定的集合中，则将字段所在的记录将查询出来.</p>
<p><strong>示例</strong> 查询 id 为 1 和 id 为 2 的学生信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>示例</strong> 查询 id 为 1 以外的学生的信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> id <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">&#x27;1&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="3-使用-between-and-关键字查询"><a href="#3-使用-between-and-关键字查询" class="headerlink" title="3.使用 between and 关键字查询"></a>3.使用 between and 关键字查询</h3><p>between and 用于判断某个字段的值是否在指定的范围之内。如果字段的值在指定范围内，则将所在的记录将查询出来</p>
<p><strong>查询</strong>18 到 20 岁的学生信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age <span class="keyword">between</span> <span class="number">18</span> <span class="keyword">and</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<p>查询不是 18 到 20 岁的加<strong>not</strong></p>
<h3 id="4-使用空值查询"><a href="#4-使用空值查询" class="headerlink" title="4.使用空值查询"></a>4.使用空值查询</h3><p>在 MySQL 中，使用 is null 关键字判断字段的值是否为空值。请注意：空值 NULL 不同于 0，也不同于空字符串</p>
<p><strong>示例</strong> 查询 name 不为空的学生信息表 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> name <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-使用-and-关键字查询"><a href="#5-使用-and-关键字查询" class="headerlink" title="5.使用 and 关键字查询"></a>5.使用 and 关键字查询</h3><p>在 MySQL 中可以使用 and 关键字可以链接两个或者多个查询条件</p>
<p><strong>示例</strong> 查询年纪大于 18 且性别为男得到学生信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">18</span> <span class="keyword">and</span> sex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="6-使用-or-关键字查询"><a href="#6-使用-or-关键字查询" class="headerlink" title="6.使用 or 关键字查询"></a>6.使用 or 关键字查询</h3><p>在使用 select 语句查询数据时可使用 or 关键字连接多个查询条件。在使用关键字 or 时，只要记录满足其中任意一个条件就会被查询出来</p>
<p><strong>示例</strong> 查询年纪大于 18 或者性别为女的学生信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">18</span> <span class="keyword">or</span> sex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="7-使用-like-关键字查询"><a href="#7-使用-like-关键字查询" class="headerlink" title="7.使用 like 关键字查询"></a>7.使用 like 关键字查询</h3><p>MySQL 中可以使用 like 关键字可以判断两个字符串是否相匹配</p>
<h4 id="1-普通字符串"><a href="#1-普通字符串" class="headerlink" title="1.普通字符串"></a>1.普通字符串</h4><p>查询 name 中与小明匹配的学生信息 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;小明&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="2-含有-通配的字符串"><a href="#2-含有-通配的字符串" class="headerlink" title="2.含有%通配的字符串"></a>2.含有%通配的字符串</h4><p>%用于匹配任意长度的字符串。例如，字符串”a%”匹配以字符 a 开始任意长度的字符串</p>
<p>%a 放前面表示查询以 a 结尾的字符串</p>
<p>%a%表示查询包含 a 的字符串</p>
<p><strong>示例</strong> 查询学生姓名以小开始的记录 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;小%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3-含有-通配的字符串"><a href="#3-含有-通配的字符串" class="headerlink" title="3.含有_通配的字符串"></a>3.含有_通配的字符串</h4><p>下划线通配符只匹配单个字符，如果要匹配多个字符，需要连续使用多个下划线通配符。例如，字符串”ab_“匹配以字符串”ab”开始长度为 3 的字符串，如 abc、abp 等等；字符串”a__d 匹配在字符”a”和”d”之间包含两个字符的字符串，如”abcd”、”atud”等等。</p>
<p><strong>示例</strong> 查询学生姓名以 g 结尾且长度为 4 的记录 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;___g&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="8-使用-limit-限制查询结果的数量"><a href="#8-使用-limit-限制查询结果的数量" class="headerlink" title="8.使用 limit 限制查询结果的数量"></a>8.使用 limit 限制查询结果的数量</h3><p>当执行查询数据时可能会返回横夺条记录，而用户需要的数据可能只是其中的一条或者几条</p>
<p><strong>示例</strong> 查询学生表中年纪大于 18 的 3 位同学 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">18</span> limit <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<h3 id="9-使用-group-by-进行分组查询"><a href="#9-使用-group-by-进行分组查询" class="headerlink" title="9.使用 group by 进行分组查询"></a>9.使用 group by 进行分组查询</h3><p>group by 可像切蛋糕一样将表中的数据进行分组，再进行查询等操作。换言之，可通俗地理解为：通过 group by 将原来的表拆分成了几张小表。</p>
<h4 id="1-group-by-和聚合函数一起使用"><a href="#1-group-by-和聚合函数一起使用" class="headerlink" title="1.group by 和聚合函数一起使用"></a>1.group by 和聚合函数一起使用</h4><p>统计各年龄学生个数 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),age <span class="keyword">from</span> student <span class="keyword">group</span> <span class="keyword">by</span> age;</span><br></pre></td></tr></table></figure>

<p>统计学生年龄大于 18 岁的学生各年龄阶段个数 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),age <span class="keyword">from</span> studnet <span class="keyword">where</span> age<span class="operator">&gt;</span><span class="number">18</span> <span class="keyword">group</span> <span class="keyword">by</span> age;</span><br></pre></td></tr></table></figure>

<h3 id="10-使用-order-by-对查询结果排序"><a href="#10-使用-order-by-对查询结果排序" class="headerlink" title="10.使用 order by 对查询结果排序"></a>10.使用 order by 对查询结果排序</h3><p>从表中查询出来的数据可能时无序的或者其排序顺序不是我们期望的。为此我们可以使用 oreer by 对查询结果进行排序</p>
<p>语法如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 字段名<span class="number">1</span>，字段名<span class="number">2</span>，... <span class="keyword">from</span> 表名 <span class="keyword">order</span> <span class="keyword">by</span> 字段名<span class="number">1</span> [<span class="keyword">asc</span><span class="operator">|</span><span class="keyword">desc</span>],字段<span class="number">2</span>[<span class="keyword">asc</span><span class="operator">|</span><span class="keyword">desc</span>];</span><br></pre></td></tr></table></figure>

<p>在该语法中: 字段名 1、字段名 2 是查询结果排序的依据；参数 asc 表示按照升序来排序，desc 表示按照降序来排序；默认情况下，按照 asc 方式排序。通常情况下，order by 子句位于整个 select 语句的末尾。</p>
<p>查询所有学生并按照年纪大小升序排序 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>查询所有学生并按照年纪大小进行降序 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<h2 id="十、表的关联关系"><a href="#十、表的关联关系" class="headerlink" title="十、表的关联关系"></a>十、表的关联关系</h2><p>在实际开发中数据表之间存在着各种关联关系。在此，介绍 MySQL 中数据表的三种关联关系。</p>
<p><strong>多对一</strong><br>多对一(亦称为一对多)是数据表中最常见的一种关系。例如：员工与部门之间的关系，一个部门可以有多个员工；而一个员工不能属于多个部门只属于某个部门。在多对一的表关系 中，应将外键建在多的一方否则会造成数据的冗余。<br><strong>多对多</strong><br>多对多是数据表中常见的一种关系。例如：学生与老师之间的关系，一个学生可以有多个老师而且一个老师有多个学生。通常情况下，为了实现这种关系需要定义一张中间表(亦称为连接表)该表会存在两个外键分别参照老师表和学生表。<br><strong>一对一</strong><br>在开发过程中，一对一的关联关系在数据库中并不常见；因为以这种方式存储的信息通常会放在同一张表中。</p>
<h3 id="1-关联查询"><a href="#1-关联查询" class="headerlink" title="1.关联查询"></a>1.关联查询</h3><p><strong>示例</strong> 查询 javascript 班的所有学生 MySQL 命令:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> classid<span class="operator">=</span>(<span class="keyword">select</span> cid <span class="keyword">from</span> class <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;javascript&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="十一、多表连接查询"><a href="#十一、多表连接查询" class="headerlink" title="十一、多表连接查询"></a>十一、多表连接查询</h2><h3 id="1-交叉查询"><a href="#1-交叉查询" class="headerlink" title="1.交叉查询"></a>1.交叉查询</h3><p>交叉连接返回的结果十被链接的两个表中所有数据行的额笛卡积；比如：集合 A={a,b}，集合 B={0,1,2}，则集合 A 和 B 的笛卡尔积为{(a,0),(a,1),(a,2),(b,0),(b,1),(b,2)}。所以，交叉连接也被称为笛卡尔连接，其语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表<span class="number">1</span> <span class="keyword">cross</span> <span class="keyword">join</span> 表<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>在该语法中：cross join 用于连接两个要查询的表，通过该语句可以查询两个表中所有的数据组合。</p>
<p><strong>由于这个交叉连接查询在实际运用中没有任何意义，所以只做为了解即可</strong></p>
<h3 id="2-内连查询"><a href="#2-内连查询" class="headerlink" title="2.内连查询"></a>2.内连查询</h3><p>内连接(Inner Join)又称简单连接或自然连接，是一种非常常见的连接查询。内连接使用比较运算符对两个表中的数据进行比较并列出与连接条件匹配的数据行，组合成新的 记录。也就是说在内连接查询中只有满足条件的记录才能出现在查询结果中。其语法格式如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询的字段<span class="number">1</span>,查询的字段<span class="number">2</span>,...<span class="keyword">from</span> 表<span class="number">1</span> [<span class="keyword">inner</span>] <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>关系字段<span class="operator">=</span>表<span class="number">2.</span>关系字段</span><br></pre></td></tr></table></figure>

<p>在该语法中：inner join 用于连接两个表，on 来指定连接条件；其中 inner 可以省略。</p>
<h3 id="3-外连接查询"><a href="#3-外连接查询" class="headerlink" title="3.外连接查询"></a>3.外连接查询</h3><p>在使用内连查询时我们发现：返回的结果只包含符合查询条件和连接条件的数据。但是，有时还需要在返回查询结果中不仅包含符合条件的数据，而且还包括左表、右表或两个表中的所有数据，此时我们就需要使用外接查询。外连接又分为左(外)连接和右(外)连接。其语法格式如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 查询字段<span class="number">1</span>,查询字段<span class="number">2</span>,... <span class="keyword">from</span> 表<span class="number">1</span> <span class="keyword">left</span> <span class="operator">|</span> tight [<span class="keyword">outer</span>] <span class="keyword">join</span> 表<span class="number">2</span> <span class="keyword">on</span> 表<span class="number">1.</span>关键字段<span class="operator">=</span>表<span class="number">2.</span>关键字段 <span class="keyword">where</span> 条件</span><br></pre></td></tr></table></figure>

<p>由此可见，外连接的语法格式和内连接非常相似，只不过使用的是 left [outer] join、right [outer] join 关键字。其中，关键字左边的表被称为左表，关键字右边的表被称为右表；outer 可以省略。<br>在使用左(外)连接和右(外)连接查询时，查询结果是不一致的，具体如下：<br>1、left [outer] join 左(外)连接：返回包括左表中的所有记录和右表中符合连接条件的记录。<br>2、right [outer] join 右(外)连接：返回包括右表中的所有记录和左表中符合连接条件的记录。</p>
<h2 id="十二、子查询"><a href="#十二、子查询" class="headerlink" title="十二、子查询"></a>十二、子查询</h2><p>子查询是指一个查询语句嵌套在另一个查询语句内部的查询；该查询语句可以嵌套在一个 select、select…into、insert…into 等语句中。在执行查询时，首先会执行子查询中的语句，再将返回得到结果作为外层查询的过滤条件。在子查询中通常可以使用比较运算符和 in、exists、any、all 等关键字。</p>
<h2 id="十三、查询语句总结"><a href="#十三、查询语句总结" class="headerlink" title="十三、查询语句总结"></a>十三、查询语句总结</h2><p>重要（从关键字分析）：<br>查询语句的书写顺序和执行顺序<br>select ===&gt; from ===&gt; where ===&gt; group by ===&gt; having ===&gt; order by ===&gt; limit<br>查询语句的执行顺序<br>from ===&gt; where ===&gt; group by ===&gt; having ===&gt; select ===&gt; order by ===&gt; limit</p>
<h2 id="十四、事物"><a href="#十四、事物" class="headerlink" title="十四、事物"></a>十四、事物</h2><p><strong>原子性（Atomicity）</strong></p>
<p>要么都成功，要么都失败</p>
<p><strong>一致性（Consistency）</strong></p>
<p>事务前后的数据完整性要保持一致</p>
<p><strong>持久性（Durability）</strong> –事务提交</p>
<p>事务一旦提交则不可逆，被持久化到数据库中!</p>
<p><strong>隔离性（Isolatiob）</strong></p>
<p>事务的隔离性时多个用户并发访问数据库时，数据库为每一个用户开启一个用户的事务，不能被其他事务的操作数据所干扰，事务之间要相互隔离。</p>

            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title='0' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                        
                            <li title='1' data-url='http://link.hhtjim.com/163/425570952.mp3'></li>
                        
                    
                </ul>
            
        </div>
        
    <div id='gitalk-container' class="comment link"
		data-enable='false'
        data-ae='false'
        data-ci=''
        data-cs=''
        data-r=''
        data-o=''
        data-a=''
        data-d='false'
    >查看评论</div>


    </div>
    
        <div class='side'>
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL"><span class="toc-number">1.</span> <span class="toc-text">MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81SQL-%E7%AE%80%E8%BF%B0"><span class="toc-number">1.1.</span> <span class="toc-text">一、SQL 简述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-SQL-%E7%9A%84%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.SQL 的概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-SQL-%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">1.1.2.</span> <span class="toc-text">2.SQL 的优点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-SQL-%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.1.3.</span> <span class="toc-text">3.SQL 的分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.</span> <span class="toc-text">二、数据库的数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.整数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.浮点数类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">3.字符串类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.4.</span> <span class="toc-text">4.日期与时间类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%99%BB%E5%BD%95%E6%8C%87%E4%BB%A4"><span class="toc-number">1.3.</span> <span class="toc-text">三、数据库登录指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%9E%E6%8E%A5-Mysql"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.连接 Mysql</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%BF%9E%E6%8E%A5%E5%88%B0%E6%9C%AC%E6%9C%BA%E4%B8%8A%E7%9A%84-MYSQL%E3%80%82"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">1.连接到本机上的 MYSQL。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%BF%9E%E6%8E%A5%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E4%B8%8A%E7%9A%84-MYSQL%E3%80%82"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">2.连接到远程主机上的 MYSQL。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E9%80%80%E5%87%BA-MYSQL-%E5%91%BD%E4%BB%A4%EF%BC%9A-exit-%EF%BC%88%E5%9B%9E%E8%BD%A6%EF%BC%89"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">3.退出 MYSQL 命令： exit （回车）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E5%92%8C%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.修改密码和删除用户</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E7%BB%99-root-%E5%8A%A0%E4%B8%AA%E5%AF%86%E7%A0%81-ab12%E3%80%82"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">1.给 root 加个密码 ab12。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%86%8D%E5%B0%86-root-%E7%9A%84%E5%AF%86%E7%A0%81%E6%94%B9%E4%B8%BA-djg345"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2.再将 root 的密码改为 djg345</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">3. 删除用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BF%AE%E6%94%B9%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">4. 修改指定用户密码</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">四、数据库操作指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.数据库的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">1.创建数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">2. 显示数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">3. 删除数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8-%E5%88%87%E6%8D%A2-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">4.使用(切换)数据库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.2.</span> <span class="toc-text">2.数据表的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">1.创建数据表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">2.查看数据表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">3.删除数据表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">3.格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B8%B8%E7%94%A8%E7%9A%84%E5%87%A0%E4%B8%AA%E6%8C%87%E4%BB%A4"><span class="toc-number">1.4.3.</span> <span class="toc-text">3.常用的几个指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.</span> <span class="toc-text">五、数据表的约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.1.</span> <span class="toc-text">1.主键约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.2.</span> <span class="toc-text">2.非空约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.3.</span> <span class="toc-text">3.默认值约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.4.</span> <span class="toc-text">4.唯一约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.5.5.</span> <span class="toc-text">5.外键约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81DML-%E8%AF%AD%E8%A8%80"><span class="toc-number">1.6.</span> <span class="toc-text">六、DML 语言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%B7%BB%E5%8A%A0-insert"><span class="toc-number">1.6.1.</span> <span class="toc-text">1.添加(insert)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%BA%E8%A1%A8%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">1.为表中添加数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%90%8C%E6%97%B6%E6%B7%BB%E5%8A%A0%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">2.同时添加多条数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9-update"><span class="toc-number">1.6.2.</span> <span class="toc-text">2.修改(update)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-update-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.6.2.1.</span> <span class="toc-text">1.update 基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-update-%E6%9B%B4%E6%96%B0%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.2.2.</span> <span class="toc-text">2.update 更新部分数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-update-%E6%9B%B4%E6%96%B0%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.2.3.</span> <span class="toc-text">3.update 更新全部数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4-delete"><span class="toc-number">1.6.3.</span> <span class="toc-text">3.删除(delete)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-delete-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.6.3.1.</span> <span class="toc-text">1.delete 基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-delete-%E5%88%A0%E9%99%A4%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.3.2.</span> <span class="toc-text">2.delete 删除部分数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-delete-%E5%88%A0%E9%99%A4%E5%85%A8%E9%83%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">1.6.3.3.</span> <span class="toc-text">3.delete 删除全部数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81DQL-%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE"><span class="toc-number">1.7.</span> <span class="toc-text">七、DQL 查询数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%97%E6%AE%B5-%E6%96%B9%E6%B3%95%E4%B8%8D%E5%94%AF%E4%B8%80%E5%8F%AA%E6%98%AF%E5%88%97%E4%B8%BE"><span class="toc-number">1.7.1.</span> <span class="toc-text">1.查询所有字段(方法不唯一只是列举)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E5%AD%97%E6%AE%B5"><span class="toc-number">1.7.2.</span> <span class="toc-text">2.查询指定字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B8%B8%E6%95%B0%E7%9A%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.7.3.</span> <span class="toc-text">3.常数的查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%88%AB%E5%90%8D"><span class="toc-number">1.7.4.</span> <span class="toc-text">4.别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%87%BD%E6%95%B0-concat-a-b"><span class="toc-number">1.7.5.</span> <span class="toc-text">5.函数 concat(a,b)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E4%BB%8E%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E4%B8%AD%E8%BF%87%E6%BB%A4%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE"><span class="toc-number">1.7.6.</span> <span class="toc-text">6.从查询结果中过滤重复数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6-%E4%B8%BE%E4%BE%8B%E5%8A%A0%E8%BF%90%E7%AE%97"><span class="toc-number">1.7.7.</span> <span class="toc-text">7.算数运算符(举例加运算)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.</span> <span class="toc-text">八、函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.1.</span> <span class="toc-text">1.聚合函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-count"><span class="toc-number">1.8.1.1.</span> <span class="toc-text">1.count()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-max"><span class="toc-number">1.8.1.2.</span> <span class="toc-text">2.max()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-min"><span class="toc-number">1.8.1.3.</span> <span class="toc-text">3.min()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-sum"><span class="toc-number">1.8.1.4.</span> <span class="toc-text">4.sum()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-avg"><span class="toc-number">1.8.1.5.</span> <span class="toc-text">5.avg()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%85%B6%E4%BB%96%E7%B1%BB%E5%9E%8B%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.2.</span> <span class="toc-text">2.其他类型函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.2.1.</span> <span class="toc-text">1.字符串函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="toc-number">1.8.2.2.</span> <span class="toc-text">2.数学函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.</span> <span class="toc-text">九、条件查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.1.</span> <span class="toc-text">1.使用关系运算符查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-in-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.2.</span> <span class="toc-text">2.使用 in 关键字查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8-between-and-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.3.</span> <span class="toc-text">3.使用 between and 关键字查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BD%BF%E7%94%A8%E7%A9%BA%E5%80%BC%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.4.</span> <span class="toc-text">4.使用空值查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E4%BD%BF%E7%94%A8-and-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.5.</span> <span class="toc-text">5.使用 and 关键字查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E4%BD%BF%E7%94%A8-or-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.6.</span> <span class="toc-text">6.使用 or 关键字查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E4%BD%BF%E7%94%A8-like-%E5%85%B3%E9%94%AE%E5%AD%97%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.7.</span> <span class="toc-text">7.使用 like 关键字查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%99%AE%E9%80%9A%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.9.7.1.</span> <span class="toc-text">1.普通字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%90%AB%E6%9C%89-%E9%80%9A%E9%85%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.9.7.2.</span> <span class="toc-text">2.含有%通配的字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%90%AB%E6%9C%89-%E9%80%9A%E9%85%8D%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.9.7.3.</span> <span class="toc-text">3.含有_通配的字符串</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BD%BF%E7%94%A8-limit-%E9%99%90%E5%88%B6%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-number">1.9.8.</span> <span class="toc-text">8.使用 limit 限制查询结果的数量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E4%BD%BF%E7%94%A8-group-by-%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.9.9.</span> <span class="toc-text">9.使用 group by 进行分组查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-group-by-%E5%92%8C%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8"><span class="toc-number">1.9.9.1.</span> <span class="toc-text">1.group by 和聚合函数一起使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E4%BD%BF%E7%94%A8-order-by-%E5%AF%B9%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8E%92%E5%BA%8F"><span class="toc-number">1.9.10.</span> <span class="toc-text">10.使用 order by 对查询结果排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E8%A1%A8%E7%9A%84%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB"><span class="toc-number">1.10.</span> <span class="toc-text">十、表的关联关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.10.1.</span> <span class="toc-text">1.关联查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E5%A4%9A%E8%A1%A8%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.11.</span> <span class="toc-text">十一、多表连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BA%A4%E5%8F%89%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.11.1.</span> <span class="toc-text">1.交叉查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%86%85%E8%BF%9E%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.11.2.</span> <span class="toc-text">2.内连查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%A4%96%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.11.3.</span> <span class="toc-text">3.外连接查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.12.</span> <span class="toc-text">十二、子查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E6%80%BB%E7%BB%93"><span class="toc-number">1.13.</span> <span class="toc-text">十三、查询语句总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81%E4%BA%8B%E7%89%A9"><span class="toc-number">1.14.</span> <span class="toc-text">十四、事物</span></a></li></ol></li></ol>	
        </div>
    
</div>


    </div>
</div>
</body>


<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/typed.js"></script>
<script src="/js/diaspora.js"></script>


<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">


<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>






</html>
